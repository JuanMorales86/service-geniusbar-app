import{g as d}from"./index.Brfk6Bdo.js";function i(){const e=document.getElementById("lockTimer");if(e){let o=parseInt(e.dataset.remainingTime);const n=e.dataset.username,a=()=>{e.textContent=`Cuenta bloqueada. Por favor, intente nuevamente en ${o} segundos.`},u=setInterval(()=>{o--,a(),o<=0&&(clearInterval(u),fetch("/api/resetAttempts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n})}),window.location.href="/signin")},1e3)}}const t={},s={};function c(){["desktop","mobile"].forEach(e=>{if(t[e]=document.getElementById(`user-menu-${e}`),s[e]=document.getElementById(`user-dropdown-${e}`),t[e]&&s[e]){d.set(s[e],{autoAlpha:0,y:-10,display:"none"});const o=n=>p(n,e);t[e]?.addEventListener("click",o),t[e].handleClick=o}}),document.addEventListener("click",l)}function p(e,o){e.stopPropagation();const n=s[o];n?.style.display==="none"?d.to(n,{duration:.3,autoAlpha:1,y:0,display:"block",ease:"power2.out"}):d.to(n,{duration:.3,autoAlpha:0,y:-10,display:"none",ease:"power2.in"})}function l(e){["desktop","mobile"].forEach(o=>{t[o]&&s[o]&&!t[o]?.contains(e.target)&&!s[o]?.contains(e.target)&&d.to(s[o],{duration:.3,autoAlpha:0,y:-10,display:"none",ease:"power2.in"})})}function r(){["desktop","mobile"].forEach(e=>{t[e]?.handleClick&&t[e]?.removeEventListener("click",t[e].handleClick)}),document.removeEventListener("click",l)}document.addEventListener("astro:page-load",()=>{r(),c(),i()});window.addEventListener("DOMContentLoaded",()=>{r(),c(),i()});
