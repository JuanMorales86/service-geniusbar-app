import{j as e}from"./jsx-runtime.CYYqVSlZ.js";import{R as t}from"./index.DJO9vBfz.js";import{T}from"./ToastContainer.BHdLIS0W.js";const q=({options:a,value:l,onChange:u})=>{const[o,h]=t.useState(!1),[s,m]=t.useState(l);t.useEffect(()=>{m(l)},[l]);const c=i=>{const p=s.includes(i)?s.filter(x=>x!==i):[...s,i];m(p),u(p.join(", "))};return e.jsxs("div",{className:"container-create-multi-select ",children:[e.jsx("label",{htmlFor:"phonedetails",className:"labelinput-custom",children:"Detalles del equipo"}),e.jsxs("div",{className:`custom-multi-select ${o?"open":""}`,children:[e.jsx("div",{className:"select-header",onClick:()=>h(!o),children:s.length>0?s.join(", "):"Seleccionar opciones"}),o&&e.jsx("div",{className:"options-container rounded-b-md",children:a.map((i,p)=>e.jsx("div",{className:`option ${s.includes(i.description)?"bg-sky-700":""}`,onClick:()=>c(i.description),children:i.description},p))})]})]})},S=console.log.bind(console);S("Service create orders form component loaded");const g={clientname:"",clientdni:"",email:"",phone:"",deviceType:"",model:"",serial:"",phonedetails:"",issue:"",devicepassword:""},E=[{description:"Rayaduras en la carcaza"},{description:"Rayaduras en la pantalla"},{description:"No muestra imagen"},{description:"Enciende pero no muestra video o imagen"},{description:"Pantalla rota"},{description:"Pantalla presenta lineas de colores fijas verticales anormales"},{description:"Pantalla presenta lineas de colores fijas horizontales anormales"},{description:"Pantalla con marcas"},{description:"Pantalla astillada"},{description:"Pantalla cambiada"},{description:"Tapa trasera del equipo esta rota o astillada"},{description:"Equipo no toma señal de operadora"},{description:"Equipo no toma WiFi"},{description:"Equipo no toma carga"},{description:"Equipo no toma BlueTooth"},{description:"Golpes en los bordes"},{description:"Faltan boton Home"},{description:"Faltan boton Power"},{description:"Faltan botones de Volumen"},{description:"Faltan botones en las teclas"},{description:"Boton de silencio no funciona"},{description:"Chip de la bateria sin funcionar o perdido"},{description:"Chip de la pantalla no reconocido o sin TrueTone"},{description:"Bateria cambiada"},{description:"Batería no esta en el equipo"},{description:"Bateria esta inchada"},{description:"Bateria esta gastada"},{description:"Bateria esta dañada"},{description:"Face ID no funciona"},{description:"Placa madre en corto"},{description:"Equipo Mojado"},{description:"Equipo se recibe parcialmente abierto"},{description:"Equipo se recibe abierto por bateria inchada"},{description:"Equipo ya ha sido revisado por otro servicio tecnico"},{description:"Equipo con fallas en el sistema operativo"},{description:"Bandeja SIM perdida"},{description:"Bandeja SIM rota"},{description:"Equipo enciende y se cuelga en la manzana"},{description:"Equipo no enciende"},{description:"Equipo se reinicia constantemente"},{description:"Equipo con numero de error"},{description:"Equipo vuelve por garantia"},{description:"Otros detalles"}];function P(){const[a,l]=t.useState(g),[u,o]=t.useState(!1),[h,s]=t.useState(""),[m,c]=t.useState(""),[i,p]=t.useState("text-lime-500/90"),[x,v]=t.useState(""),[N,b]=t.useState(""),j=()=>{l(g)},n=r=>{l({...a,[r.target.name]:r.target.value})},y=()=>{window.location.href="/ordershow-page"},C=async r=>{r.preventDefault(),s("Enviando Orden....."),c("info"),b("top"),v("end"),o(!0);try{const d=await fetch("/api/createOrder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});console.log("Response received:",d);const f=await d.json();console.log("Response data:",f),d.ok&&f.success?(s("Orden Creada Sastisfactoriamente"),c("success"),j()):(s("Error al crear la orden"),c("error"))}catch(d){console.error("Error al enviar el formulario",d),s("Error al crear la orden"),c("error")}b("top"),v("end"),o(!0),setTimeout(()=>o(!1),5e3)};return e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-blend-lighten",children:e.jsxs("div",{className:"bg-gradient-sweep animate-gradient-sweep text-light-text dark:text-dark-text p-8 rounded-lg dark:border dark:border-light-bg shadow-lg w-full max-w-4xl",children:[e.jsx("h2",{className:"text-3xl font-bold mb-6 text-center",children:"Hoja de Servicio Técnico"}),e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2 transition-all duration-300 hover:transform hover:scale-105",children:[e.jsx("label",{htmlFor:"clientname",className:"labelinput-custom",children:"Nombre Cliente"}),e.jsx("input",{type:"text",name:"clientname",id:"clientname",value:a.clientname,onChange:n,required:!0,placeholder:"Carlos",className:"form-inputbox"})]}),e.jsxs("div",{className:"space-y-2 transition-all duration-300 hover:transform hover:scale-105",children:[e.jsx("label",{htmlFor:"clientdni",className:"labelinput-custom",children:"DNI"}),e.jsx("input",{type:"text",name:"clientdni",id:"clientdni",value:a.clientdni,onChange:n,required:!0,minLength:8,placeholder:"29115230",className:"form-inputbox"})]}),e.jsxs("div",{className:"space-y-2 transition-all duration-300 hover:transform hover:scale-105",children:[e.jsx("label",{htmlFor:"email",className:"labelinput-custom",children:"Email"}),e.jsx("input",{type:"email",name:"email",id:"email",value:a.email,onChange:n,placeholder:"cliente@hotmail.com",className:"form-inputbox"})]}),e.jsxs("div",{className:"space-y-2 transition-all duration-300 hover:transform hover:scale-105",children:[e.jsx("label",{htmlFor:"phone",className:"labelinput-custom",children:"Teléfono"}),e.jsx("input",{type:"text",name:"phone",id:"phone",value:a.phone,onChange:n,required:!0,minLength:10,placeholder:"1130561068",className:"form-inputbox"})]}),e.jsxs("div",{className:"space-y-2 transition-all duration-300 hover:transform hover:scale-105",children:[e.jsx("label",{htmlFor:"deviceType",className:"labelinput-custom",children:"Tipo de dispositivo"}),e.jsx("input",{type:"text",name:"deviceType",id:"deviceType",value:a.deviceType,onChange:n,required:!0,placeholder:"Celular/Laptop/Otro",className:"form-inputbox"})]}),e.jsxs("div",{className:"space-y-2 transition-all duration-300 hover:transform hover:scale-105",children:[e.jsx("label",{htmlFor:"model",className:"labelinput-custom",children:"Modelo del equipo"}),e.jsx("input",{type:"text",name:"model",id:"model",placeholder:"Iphone 15",value:a.model,onChange:n,required:!0,className:"form-inputbox"})]}),e.jsxs("div",{className:"space-y-2 transition-all duration-300 hover:transform hover:scale-105",children:[e.jsx("label",{htmlFor:"serial",className:"labelinput-custom",children:"Número de serie"}),e.jsx("input",{type:"text",name:"serial",id:"serial",value:a.serial,onChange:n,placeholder:"A1708",className:"form-inputbox"})]}),e.jsxs("div",{className:"space-y-2 transition-all duration-300 hover:transform hover:scale-105",children:[e.jsx("label",{htmlFor:"devicepassword",className:"labelinput-custom",children:"Contraseña del dispositivo"}),e.jsx("input",{type:"password",name:"devicepassword",id:"devicepassword",value:a.devicepassword,onChange:n,required:!0,placeholder:"123456",minLength:4,className:"form-inputbox"})]})]}),e.jsxs("div",{className:"space-y-2 transition-all duration-300 hover:transform hover:scale-105",children:[e.jsx("label",{htmlFor:"issue",className:"labelinput-custom",children:"Problemas"}),e.jsx("textarea",{name:"issue",id:"issue",value:a.issue,onChange:n,required:!0,placeholder:"Descripcion del caso",className:"textarea-custom",rows:"3"})]}),e.jsx(q,{options:E,value:a.phonedetails?a.phonedetails.split(",").map(r=>r.trim()).filter(Boolean):[],onChange:r=>{l(d=>({...d,phonedetails:r}))}}),e.jsxs("div",{className:"flex justify-center",children:[e.jsx("button",{type:"submit",className:"btn-custom",children:"Crear Orden"}),e.jsx("button",{type:"button",onClick:()=>{j(),s("Fomluario Borrado"),b("middle"),v("bottom"),o(!0),c("warning"),setTimeout(()=>o(!1),5e3),p("text-redCrayola")},className:"btn-custom",children:"Borrar Formulario"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:y,className:"btn-custom",children:"Mostrar Ordenes"})})]}),u&&e.jsx(T,{message:h,type:m,positionV:x,positionH:N,color:i,onClose:()=>o(!1)})]})})}export{P as default};
