import{j as t}from"./jsx-runtime.D_zvdyIk.js";import{r as o}from"./index.BqJQxrZM.js";import"./_commonjsHelpers.CqkleIqs.js";function x({src:e,alt:l,className:a="",width:u,height:d}){const[n,m]=o.useState(!1),r=o.useRef(null);return o.useEffect(()=>{const s=new IntersectionObserver(p=>{const i=p[0];if(i.isIntersecting){const c=new Image;c.src=e,c.onload=()=>{m(!0)},s.unobserve(i.target)}},{threshold:.1});return r.current&&s.observe(r.current),()=>s.disconnect()},[e]),t.jsxs("div",{ref:r,className:"relative overflow-hidden",children:[t.jsx("div",{className:`${a} absolute inset-0 blur-2xl scale-105 transition-opacity duration-500`,style:{backgroundImage:`url(${e})`,backgroundSize:"cover",backgroundPosition:"center",opacity:n?0:1}}),t.jsxs("picture",{children:[t.jsx("source",{srcSet:e,type:"image/webp"}),t.jsx("img",{src:e.replace("?format=webp",""),alt:l,className:`${a} transition-opacity duration-1000`,style:{opacity:n?1:0},loading:"lazy",width:u,height:d})]})]})}export{x as default};
