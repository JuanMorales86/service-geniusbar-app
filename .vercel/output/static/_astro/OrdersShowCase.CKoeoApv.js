import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{R as de,a as ce,r as Q}from"./index.BqJQxrZM.js";import{C as he}from"./ToastContainer.DziRUHsM.js";import"./_commonjsHelpers.CqkleIqs.js";const pe=({currentPage:C,totalPages:s,onPageChange:d})=>e.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-x-4",children:[e.jsx("button",{onClick:()=>d(C-1),disabled:C===1,className:"btn-pagination bg-arrow-left bg-no-repeat bg-center",children:e.jsx("span",{className:"w-5 h-5"})}),e.jsxs("span",{children:["Page ",C," of ",s]}),e.jsx("button",{onClick:()=>d(C+1),disabled:C===s,className:"btn-pagination bg-arrow-right bg-no-repeat bg-center",children:e.jsx("span",{className:"w-5 h-5"})})]}),ue=()=>e.jsxs("div",{className:"fixed top-0 left-0 w-screen h-screen flex flex-col items-center justify-center bg-dark-input bg-opacity-95 z-50",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:100,height:100,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-atom text-sky-600 animate-spin-fast",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M12 12v.01"}),e.jsx("path",{d:"M19.071 4.929c-1.562 -1.562 -6 .337 -9.9 4.243c-3.905 3.905 -5.804 8.337 -4.242 9.9c1.562 1.561 6 -.338 9.9 -4.244c3.905 -3.905 5.804 -8.337 4.242 -9.9"}),e.jsx("path",{d:"M4.929 4.929c-1.562 1.562 .337 6 4.243 9.9c3.905 3.905 8.337 5.804 9.9 4.242c1.561 -1.562 -.338 -6 -4.244 -9.9c-3.905 -3.905 -8.337 -5.804 -9.9 -4.242"})]}),e.jsx("div",{children:e.jsx("span",{className:"font-sans text-dark-text text-customtext2",children:"Cargando..."})})]});class me extends de.PureComponent{render(){const{order:s}=this.props;return e.jsx(e.Fragment,{children:e.jsxs("div",{ref:this.props.innerRef,className:"printable-order-container font-apple text-black",children:[e.jsx("div",{className:"page first-page",children:e.jsxs("div",{className:"printable-order border-2",children:[e.jsxs("div",{className:"flex flex-row justify-around items-center",children:[e.jsx("picture",{children:e.jsx("img",{src:"https://imgur.com/rrUbj7z.png",alt:"logo atomo",className:"block m-auto mb-5 max-w-32 h-auto"})}),e.jsxs("span",{className:"genius-bar-title text-center  mb-2 text-blk-gray-dark text-xl font-bold",children:["Servicio Tecnico Especializado ",e.jsx("br",{})," Reparaci√≥n y soporte Apple/Samsung ",e.jsx("br",{}),"¬°Soluciones r√°pidas y garantizadas!"]})]}),e.jsx("div",{className:"text-center text-2xl border-2 border-blk-gray-dark p-2 mb-6 mx-2 shadow-lg font-bold",children:"Orden Comprobante"}),e.jsx("div",{className:"text-end text-md border-blk-gray-dark p-2 mb-2 font-semibold",children:"Buenos Aires, 02 de Octubre de 2024"}),e.jsx("table",{className:"order-details ",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("th",{children:"Numero de Orden:"}),e.jsx("td",{children:s.ordernumber||"No Disponible"})]}),e.jsxs("tr",{children:[e.jsx("th",{children:"Status:"}),e.jsx("td",{children:s.status||"No Especificado"})]}),e.jsxs("tr",{children:[e.jsx("th",{children:"Cliente:"}),e.jsx("td",{children:s.clientname||"Anonimo"})]}),e.jsxs("tr",{children:[e.jsx("th",{children:"Dni:"}),e.jsx("td",{children:s.clientdni||"No Resgristrado"})]}),e.jsxs("tr",{children:[e.jsx("th",{children:"Email:"}),e.jsx("td",{children:s.email||"Vacio"})]}),e.jsxs("tr",{children:[e.jsx("th",{children:"Telefono:"}),e.jsx("td",{children:s.phone||"Vacio"})]}),e.jsxs("tr",{children:[e.jsx("th",{children:"Modelo:"}),e.jsx("td",{children:s.model||"No Informado"})]}),e.jsxs("tr",{children:[e.jsx("th",{children:"Serial Equipo:"}),e.jsx("td",{children:s.serial||"Vacio"})]}),e.jsxs("tr",{children:[e.jsx("th",{children:"Detalles de Visuales del Equipo:"}),e.jsx("td",{children:s.phonedetails||"Vacio"})]}),e.jsxs("tr",{children:[e.jsx("th",{children:"Problema:"}),e.jsx("td",{children:s.issue||"No Especificado"})]})]})}),e.jsx("div",{className:"mt-12 left-10 right-10 text-right border-t-2 border-blk-gray-light text-blk-gray-dark pt-2",children:e.jsxs("span",{children:["Cordialmente:",e.jsx("span",{className:"block text-blk-gray-dark font-bold",children:"Juan Morales"})," "]})}),e.jsxs("div",{className:"flex flex-col items-center justify-center w-full  text-center text-lg font-semibold my-8",children:[e.jsx("h1",{children:"Genius Bar"}),e.jsx("p",{children:"Division Servicio Tecnologia"}),e.jsx("p",{children:"Florida 537, PB, Loc. 366, CABA"}),e.jsx("p",{children:"Lunes a Viernes: 10 a 19 hs, Sabados: 11 a 16 hs"}),e.jsx("p",{children:"Telefono: +54-9-1123560959"})]})]})}),e.jsxs("div",{className:"page second-page border-2 border-blackEerie",children:[e.jsx("div",{className:"flex flex-row justify-center items-center",children:e.jsx("picture",{children:e.jsx("img",{src:"https://imgur.com/rrUbj7z.png",alt:"logo atomo",className:"block mt-2 max-w-32"})})}),e.jsxs("div",{className:"order-legals text-base font-aux font-semibold text-black flex flex-col",children:[e.jsxs("div",{className:"flex flex-col justify-center items-center mb-2",children:[e.jsx("h1",{className:"text-lg",children:"T√©rminos y Condiciones"}),e.jsx("p",{className:"font-bold text-lg",children:"‚ñ∂Ô∏è Por favor, leer la revisi√≥n de los t√©rminos y probar bien el equipo antes de su retiro de la tienda:"})]}),e.jsxs("div",{className:"flex flex-col  text-justify",children:[e.jsx("p",{children:"‚Ä¢	Los diagn√≥sticos internos pueden variar y se hacen entre 24 y 48 horas sin embargo pueden durar hasta 96 horas ‚Äúh√°biles‚Äù."}),e.jsx("p",{children:"‚Ä¢	Los equipos y componentes se consideran sin funcionamiento hasta ser diagnosticados en nuestro laboratorio."}),e.jsx("p",{children:"‚Ä¢	TODO TRABAJO EN PLACA corre el riesgo de perder funcionalidades o en su defecto de que no encienda m√°s."}),e.jsx("p",{children:"‚Ä¢	Todo equipo humedecido o mojado podr√° presentar fallas progresivas inclusive luego de ser reparado."}),e.jsx("p",{children:"‚Ä¢	Cambio de Pantallas y Bater√≠as (garant√≠a de 90 d√≠as), cumpliendo con los t√©rminos y condiciones."}),e.jsx("p",{children:"‚Ä¢	GARANTIA: LA GARANTIA COMIENZA A SER EFECTIVA DESDE EL MOMENTO EN EL QUE SE LE NOTIFICA AL CLIENTE. Para que sea v√°lida se debe de presentar la factura u orden, el equipo se recibir√° para ser diagnosticado y verificar la falla, el equipo no puede presentar (ca√≠das, golpes o ralladuras, humedad o agua), (exceso de calor sobre la placa), (haber sido abierto por otro servicio t√©cnico), (NO pueden haber sido violados los sellos de seguridad), la garant√≠a solo ampara la zona o componentes reparados, GENIUS BAR no se hace responsable de desperfectos por alteraciones √≥ actualizaciones a nivel de software. La garant√≠a tiene una duraci√≥n de 30 a 90 d√≠as (de acuerdo a la reparaci√≥n realizada) "}),e.jsx("p",{children:"‚Ä¢	GARANTIA DE CAMBIO DE PANTALLAS: Por ning√∫n motivo ser√° v√°lida la garant√≠a si est√° partido el t√°ctil √≥ display, mojado o humedecido o fractura interna por mala manipulaci√≥n. "}),e.jsx("p",{children:"‚Ä¢	Al pasar 90 d√≠as luego de ser reparado, el equipo se considera abandonado, en este caso GENIUS BAR, obtendr√° el dominio del equipo y dispondr√° del mismo perdiendo el cliente todo el derecho a reclamo sobre √©l (c√≥digo civil, art.2525/2526)."}),e.jsx("p",{children:"‚Ä¢	No nos hacemos responsables si el IMEI del equipo queda bloqueado por ENACOM en el tiempo que permanezca en nuestro laboratorio, ‚ÄúLA RESPONSABILIDAD LEGAL DEL EQUIPO POR ESTATUS DUDOSOS (POR EJEMPLO, ROBO √ì EXTRAVIO) ES TOTALMENTE DEL CLIENTE QUE LE DA INGRESO AL MISMO EN NUESTRO LOCAL‚Äù."})]})]})]})]})})}}var G={exports:{}},xe=G.exports,se;function ge(){return se||(se=1,function(C,s){(function(d,c){C.exports=c(ce())})(typeof self<"u"?self:xe,function(d){return function(){var c={155:function(t){t.exports=d}},l={};function x(t){var n=l[t];if(n!==void 0)return n.exports;var i=l[t]={exports:{}};return c[t](i,i.exports,x),i.exports}x.d=function(t,n){for(var i in n)x.o(n,i)&&!x.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},x.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},x.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};x.r(r),x.d(r,{useReactToPrint:function(){return oe}});var F=x(155);function g({level:t="error",messages:n,suppressErrors:i=!1}){i||(t==="error"?console.error(n):t==="warning"?console.warn(n):console.debug(n))}function Y(t,n){if(n||!t){const i=document.getElementById("printWindow");i&&document.body.removeChild(i)}}function U(t){return t instanceof Error?t:new Error("Unknown Error")}function _(t,n){const{documentTitle:i,onAfterPrint:u,onPrintError:y,preserveAfterPrint:f,print:D,suppressErrors:b}=n;setTimeout(()=>{var j,A;if(t.contentWindow){let S=function(){u?.(),Y(f)};if(t.contentWindow.focus(),D)D(t).then(S).catch(E=>{y?y("print",U(E)):g({messages:["An error was thrown by the specified `print` function"],suppressErrors:b})});else{if(t.contentWindow.print){const E=(A=(j=t.contentDocument)===null||j===void 0?void 0:j.title)!==null&&A!==void 0?A:"",O=t.ownerDocument.title;i&&(t.ownerDocument.title=i,t.contentDocument&&(t.contentDocument.title=i)),t.contentWindow.print(),i&&(t.ownerDocument.title=O,t.contentDocument&&(t.contentDocument.title=E))}else g({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:b});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(E=>{var O,R;return((R=(O=navigator.userAgent)!==null&&O!==void 0?O:navigator.vendor)!==null&&R!==void 0?R:"opera"in window&&window.opera).match(E)})?setTimeout(S,500):S()}}else g({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:b})},500)}function X(t){const n=[],i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,null);let u=i.nextNode();for(;u;)n.push(u),u=i.nextNode();return n}function Z(t,n,i){const u=X(t),y=X(n);if(u.length===y.length)for(let f=0;f<u.length;f++){const D=u[f],b=y[f],j=D.shadowRoot;if(j!==null){const A=b.attachShadow({mode:j.mode});A.innerHTML=j.innerHTML,Z(j,A,i)}}else g({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",t,n],suppressErrors:i})}const ne=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function ae(t,n,i,u){var y,f,D,b,j;const{contentNode:A,clonedContentNode:S,clonedImgNodes:E,clonedVideoNodes:O,numResourcesToLoad:R,originalCanvasNodes:q}=i,{bodyClass:H,fonts:I,ignoreGlobalStyles:B,pageStyle:W,nonce:T,suppressErrors:M,copyShadowRoots:V}=u;t.onload=null;const o=(y=t.contentDocument)!==null&&y!==void 0?y:(f=t.contentWindow)===null||f===void 0?void 0:f.document;if(o){const P=o.body.appendChild(S);V&&Z(A,P,!!M),I&&(!((D=t.contentDocument)===null||D===void 0)&&D.fonts&&(!((b=t.contentWindow)===null||b===void 0)&&b.FontFace)?I.forEach(h=>{const a=new FontFace(h.family,h.source,{weight:h.weight,style:h.style});t.contentDocument.fonts.add(a),a.loaded.then(()=>{n(a)}).catch(v=>{n(a,["Failed loading the font:",a,"Load error:",U(v)])})}):(I.forEach(h=>{n(h)}),g({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:M})));const $=W??ne,J=o.createElement("style");T&&(J.setAttribute("nonce",T),o.head.setAttribute("nonce",T)),J.appendChild(o.createTextNode($)),o.head.appendChild(J),H&&o.body.classList.add(...H.split(" "));const re=o.querySelectorAll("canvas");for(let h=0;h<q.length;++h){const a=q[h],v=re[h];if(v===void 0){g({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",a],suppressErrors:M});continue}const p=v.getContext("2d");p&&p.drawImage(a,0,0)}for(let h=0;h<E.length;h++){const a=E[h],v=a.getAttribute("src");if(v){const p=new Image;p.onload=()=>{n(a)},p.onerror=(m,N,L,w,k)=>{n(a,["Error loading <img>",a,"Error",k])},p.src=v}else n(a,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',a])}for(let h=0;h<O.length;h++){const a=O[h];a.preload="auto";const v=a.getAttribute("poster");if(v){const p=new Image;p.onload=()=>{n(a)},p.onerror=(m,N,L,w,k)=>{n(a,["Error loading video poster",v,"for video",a,"Error:",k])},p.src=v}else a.readyState>=2?n(a):a.src?(a.onloadeddata=()=>{n(a)},a.onerror=(p,m,N,L,w)=>{n(a,["Error loading video",a,"Error",w])},a.onstalled=()=>{n(a,["Loading video stalled, skipping",a])}):n(a,["Error loading video, `src` is empty",a])}const ee="select",te=A.querySelectorAll(ee),ie=o.querySelectorAll(ee);for(let h=0;h<te.length;h++)ie[h].value=te[h].value;if(!B){const h=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let a=0,v=h.length;a<v;++a){const p=h[a];if(p.tagName.toLowerCase()==="style"){const m=o.createElement(p.tagName),N=p.sheet;if(N){let L="";try{const w=N.cssRules.length;for(let k=0;k<w;++k)typeof N.cssRules[k].cssText=="string"&&(L+=`${N.cssRules[k].cssText}\r
`)}catch(w){g({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",p,`Original error: ${U(w).message}`],level:"warning"})}m.setAttribute("id",`react-to-print-${a}`),T&&m.setAttribute("nonce",T),m.appendChild(o.createTextNode(L)),o.head.appendChild(m)}}else if(p.getAttribute("href"))if(p.hasAttribute("disabled"))g({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",p],level:"warning"}),n(p);else{const m=o.createElement(p.tagName);for(let N=0,L=p.attributes.length;N<L;++N){const w=p.attributes[N];w&&m.setAttribute(w.nodeName,(j=w.nodeValue)!==null&&j!==void 0?j:"")}m.onload=()=>{n(m)},m.onerror=(N,L,w,k,le)=>{n(m,["Failed to load",m,"Error:",le])},T&&m.setAttribute("nonce",T),o.head.appendChild(m)}else g({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",p],level:"warning"}),n(p)}}}R===0&&_(t,u)}function K(t,n,i,u){t.onload=()=>{ae(t,n,i,u)},document.body.appendChild(t)}function oe(t){const{contentRef:n,fonts:i,ignoreGlobalStyles:u,onBeforePrint:y,onPrintError:f,preserveAfterPrint:D,suppressErrors:b}=t;return(0,F.useCallback)(A=>{Y(D,!0);const S=function({contentRef:o,optionalContent:P,suppressErrors:$}){return P&&(o&&g({level:"warning",messages:['"react-to-print" received a `contentRef` option and a optional-content param passed to its callback. The `contentRef` option will be ignored.']}),typeof P=="function")?P():o?o.current:void g({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:$})}({contentRef:n,optionalContent:A,suppressErrors:b});if(!S)return void g({messages:["There is nothing to print"],suppressErrors:b});const E=S.cloneNode(!0),O=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),R=E.querySelectorAll("img"),q=E.querySelectorAll("video"),H=i?i.length:0,I=(u?0:O.length)+R.length+q.length+H,B=[],W=[],T=function(){const o=document.createElement("iframe");return o.width=`${document.documentElement.clientWidth}px`,o.height=`${document.documentElement.clientHeight}px`,o.style.position="absolute",o.style.top=`-${document.documentElement.clientHeight+100}px`,o.style.left=`-${document.documentElement.clientWidth+100}px`,o.id="printWindow",o.srcdoc="<!DOCTYPE html>",o}(),M=(o,P)=>{B.includes(o)?g({level:"debug",messages:["Tried to mark a resource that has already been handled",o],suppressErrors:b}):(P?(g({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...P],suppressErrors:b}),W.push(o)):B.push(o),B.length+W.length===I&&_(T,t))},V={contentNode:S,clonedContentNode:E,clonedImgNodes:R,clonedVideoNodes:q,numResourcesToLoad:I,originalCanvasNodes:S.querySelectorAll("canvas")};y?y().then(()=>{K(T,M,V,t)}).catch(o=>{f?.("onBeforePrint",U(o))}):K(T,M,V,t)},[t])}return r}()})}(G)),G.exports}var be=ge();function fe({order:C}){const s=Q.useRef(null),d=be.useReactToPrint({contentRef:s});return e.jsxs("div",{className:"w-full flex justify-center mt-2",children:[e.jsx("button",{onClick:()=>d(),className:"btn-custom",children:"Imprimir Orden"}),e.jsx("div",{style:{display:"none"},children:e.jsx(me,{order:C,innerRef:s})})]})}const z=console.log.bind(console),je=[{value:0,label:"Pendiente"},{value:1,label:"En Proceso"},{value:2,label:"Reparado"},{value:3,label:"Reparaci√≥n Anulado por el Cliente"},{value:4,label:"Sin Reparaci√≥n en Devoluci√≥n"},{value:5,label:"Reparaci√≥n Pospuesta a Espera del Cliente"},{value:6,label:"Entregado y Retirado por el Cliente"},{value:7,label:"Devoluci√≥n a Pedido del Cliente"},{value:8,label:"Devoluci√≥n sin Reparaci√≥n"},{value:9,label:"Reparaci√≥n Exitosa a Espera del Cliente"},{value:1,label:"En Diagn√≥stico"}];class we extends Q.Component{state={ordersData:null,isLoading:!0,error:null,editingOrderId:null,editFormData:null,expandedCards:new Set,showToast:!1,toastMessage:"",toastType:"",toastColor:"text-white",orderToDelete:null};componentRef=Q.createRef();handleToggleCard=s=>{this.setState(d=>{const c=new Set(d.expandedCards);return c.has(s)?c.delete(s):c.add(s),{expandedCards:c}})};handleDeleteClick=s=>{this.setState({showToast:!0,toastMessage:"CONFIRMA LA ELIMINACION DE LA ORDEN",toastType:"warning",orderToDelete:s})};handleConfirmDelete=()=>{this.state.orderToDelete&&(this.setState({showToast:!1,orderToDelete:null}),this.handleDelete(this.state.orderToDelete))};handleDelete=async s=>{try{if((await fetch("api/deleteOrders",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s})})).ok)this.setState(c=>({ordersData:c.ordersData?{...c.ordersData,ordenes:c.ordersData.ordenes.filter(l=>l.id!==s)}:null}));else throw new Error("Error al borrar la orden")}catch(d){console.error("Error borrando la orden:",d)}};handleEdit=s=>{z("orden editando:",s),this.setState({editingOrderId:s.id,editFormData:{...s,aditionalObservation:s.aditionalObservation||"",donerepairments:s.donerepairments||"",topay:s.topay||0,payed:s.payed||0}})};handleEditChange=s=>{const{name:d}=s.target;let c;if(s.target instanceof HTMLSelectElement){const l=s.target.selectedIndex;c=s.target.options[l].text}else c=s.target.value;z("edit change:",d,c),this.setState(l=>({editFormData:l.editFormData?{...l.editFormData,[d]:c}:{[d]:c}}))};handleEditSubmit=async s=>{s.preventDefault(),z("summiting edit:",this.state.editFormData);const d=await fetch("api/getOrders",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state.editFormData)});if(d.ok){const c=await d.json();z("updated Order:",c),this.setState(l=>({ordersData:l.ordersData?{...l.ordersData,ordenes:l.ordersData.ordenes.map(x=>x.id===c.id?c:x)}:null,editingOrderId:null,editFormData:null}))}};componentDidMount(){this.fetchOrders()}async fetchOrders(s=1){try{const d=await fetch(`api/getOrders?pagina=${s}`);if(!d.ok)throw new Error("Fallo al cargar las ordenes");const c=await d.json();this.setState({ordersData:c,isLoading:!1})}catch(d){d instanceof Error&&this.setState({error:d.message,isLoading:!1})}}changePage=s=>{this.state.ordersData&&s>=1&&s<=this.state.ordersData.totalPages&&this.fetchOrders(s)};render(){z("User prop in render:",this.props.user.isAdmin);const{ordersData:s,isLoading:d,error:c,editFormData:l,editingOrderId:x}=this.state;return d?e.jsx(ue,{}):c?e.jsxs("div",{children:["Error: ",c]}):e.jsxs("div",{className:"order-container",children:[e.jsx("h2",{className:"titles-styles",children:"ORDENES"}),e.jsx("ul",{className:"order-ul-styles",children:s?.ordenes.map(r=>e.jsx("li",{children:e.jsxs("div",{className:"order-card group",children:[e.jsxs("div",{className:"order-list-item",children:[e.jsxs("p",{children:["Numero de Orden: ",e.jsx("span",{children:r.ordernumber})]}),e.jsxs("p",{children:["Status: ",e.jsx("span",{children:r.status})]}),e.jsxs("p",{children:["Cliente: ",e.jsx("span",{children:r.clientname})]}),e.jsxs("p",{children:["Dni: ",e.jsx("span",{children:r.clientdni})]}),e.jsxs("p",{children:["Email: ",e.jsx("span",{children:r.email})]}),e.jsxs("div",{className:`order-list-item-detailed ${this.state.expandedCards.has(r.id)?"expanded":"collapsed"}`,children:[e.jsxs("p",{children:["Telefono: ",e.jsx("span",{children:r.phone})]}),e.jsxs("p",{children:["Tipo de Dispositivo: ",e.jsx("span",{children:r.deviceType})]}),e.jsxs("p",{children:["Modelo: ",e.jsx("span",{children:r.model})]}),e.jsxs("p",{children:["Serial Equipo: ",e.jsx("span",{children:r.serial||"Vacio"})]}),e.jsxs("p",{children:["Detalles del Telefono: ",e.jsx("span",{children:r.phonedetails})]}),e.jsxs("p",{children:["Contrase√±a del Dispositivo: ",e.jsx("span",{children:r.devicepassword})]}),e.jsxs("p",{children:["Problema: ",e.jsx("span",{children:r.issue})]}),e.jsxs("p",{children:["Fecha de Creacion: ",e.jsx("span",{children:r.createdAt||0})]}),e.jsxs("p",{children:["Fecha de Actualizacion: ",e.jsx("span",{children:r.updatedAt||0})]}),e.jsxs("p",{children:["Observaciones Adicionales: ",e.jsx("span",{children:r.aditionalObservation})]}),e.jsxs("p",{children:["Reparaciones Realizadas: ",e.jsx("span",{children:r.donerepairments})]}),e.jsxs("p",{children:["Por pagar: ",e.jsxs("span",{children:[Number(r.topay||0).toLocaleString("es-AR")," Pesos"]})]}),e.jsxs("p",{children:["Pagado: ",e.jsxs("span",{children:[Number(r.payed||0).toLocaleString("es-AR")," Pesos"]})]})]}),e.jsx("button",{onClick:()=>this.handleToggleCard(r.id),className:"btn-custom",children:this.state.expandedCards.has(r.id)?"üîºMostrar M√°s":"üîΩMostrar Mas"})]}),e.jsx("div",{className:"order-editing-card-group",children:this.props.user.isAdmin?e.jsx(e.Fragment,{children:x===r.id?e.jsxs("form",{className:"flex flex-row flex-wrap gap-2 justify-around",onSubmit:this.handleEditSubmit,children:[e.jsxs("p",{className:"order-list-item-detailed",children:["ID de Sistema: ",e.jsx("span",{children:r.id})]}),e.jsxs("div",{className:"flex flex-col w-full sm:w-full md:w-full lg:w-full mb-2",children:[e.jsx("label",{htmlFor:"status",className:"labelinput-custom",children:"Status:"}),e.jsx("select",{name:"status",id:"clientname",value:l.status,onChange:this.handleEditChange,className:"form-inputbox pointer-events-none group-hover:pointer-events-auto",children:e.jsx("optgroup",{label:"Estado del servicio",className:"form-inputbox optgroup",children:je.map(F=>e.jsx("option",{value:F.label,selected:l.status===F.label,children:F.label},F.value))})}),e.jsx("label",{htmlFor:"clientname",className:"labelinput-custom",children:"Cliente:"}),e.jsx("input",{name:"clientname",id:"clientname",value:l.clientname,onChange:this.handleEditChange,className:"form-inputbox"}),e.jsx("label",{htmlFor:"clientdni",className:"labelinput-custom",children:"Dni:"}),e.jsx("input",{name:"clientdni",id:"clientdni",value:l.clientdni,onChange:this.handleEditChange,className:"form-inputbox"}),e.jsx("label",{htmlFor:"email",className:"labelinput-custom",children:"Email:"}),e.jsx("input",{name:"email",id:"email",value:l.email,onChange:this.handleEditChange,className:"form-inputbox"}),e.jsx("label",{htmlFor:"phone",className:"labelinput-custom",children:"Telefono:"}),e.jsx("input",{name:"phone",id:"phone",value:l.phone,onChange:this.handleEditChange,className:"form-inputbox"}),e.jsx("label",{htmlFor:"deviceType",className:"labelinput-custom",children:"Tipo de Dispositivo:"}),e.jsx("input",{name:"deviceType",id:"deviceType",value:l.deviceType,onChange:this.handleEditChange,className:"form-inputbox"}),e.jsx("label",{htmlFor:"model",className:"labelinput-custom",children:"Modelo:"}),e.jsx("input",{name:"model",id:"model",value:l.model,onChange:this.handleEditChange,className:"form-inputbox"}),e.jsx("label",{htmlFor:"serial",className:"labelinput-custom",children:"Serial:"}),e.jsx("input",{name:"serial",id:"serial",value:l.serial,onChange:this.handleEditChange,className:"form-inputbox"}),e.jsx("label",{htmlFor:"phonedetails",className:"labelinput-custom",children:"Detalles Telefono:"}),e.jsx("input",{name:"phonedetails",id:"phonedetails",value:l.phonedetails,onChange:this.handleEditChange,className:"form-inputbox"}),e.jsx("label",{htmlFor:"devicepassword",className:"labelinput-custom",children:"Clave Equipo:"}),e.jsx("input",{name:"devicepassword",id:"devicepassword",value:l.devicepassword,onChange:this.handleEditChange,className:"form-inputbox"}),e.jsx("label",{htmlFor:"issue",className:"labelinput-custom",children:"Problema:"}),e.jsx("input",{name:"issue",id:"issue",value:l.issue,onChange:this.handleEditChange,className:"form-inputbox"}),e.jsx("label",{htmlFor:"aditionalObservation",className:"labelinput-custom",children:"Observaciones Adicionales:"}),e.jsx("input",{name:"aditionalObservation",id:"aditionalObservation",value:l.aditionalObservation,onChange:this.handleEditChange,className:"form-inputbox"}),e.jsx("label",{htmlFor:"donerepairments",className:"labelinput-custom",children:"Reparaciones Hechas:"}),e.jsx("input",{name:"donerepairments",id:"donerepairments",value:l.donerepairments,onChange:this.handleEditChange,className:"form-inputbox"}),e.jsx("label",{htmlFor:"topay",className:"labelinput-custom",children:"A Pagar:"}),e.jsx("input",{name:"topay",id:"topay",value:l.topay,onChange:this.handleEditChange,className:"form-inputbox"}),e.jsx("label",{htmlFor:"payed",className:"labelinput-custom",children:"Pagado:"}),e.jsx("input",{name:"payed",id:"payed",value:l.payed,onChange:this.handleEditChange,className:"form-inputbox"})]}),e.jsx("button",{className:"btn-custom",type:"submit",children:"Guardar"}),e.jsx("button",{className:"btn-custom",type:"button",onClick:()=>this.setState({editingOrderId:null,editFormData:null,expandedCards:new Set}),children:"Cancelar"})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"order-buttons-group",children:[e.jsx("button",{className:"btn-custom",onClick:()=>this.handleEdit(r),children:"Editar"}),e.jsx("button",{className:"btn-custom",onClick:()=>this.handleDeleteClick(r.id),children:"Eliminar"}),e.jsx(fe,{order:r})]})})}):e.jsxs("div",{className:"order-status-info",children:[e.jsxs("span",{className:"status-badge",children:["Estado: ",r.status]}),e.jsxs("span",{className:"payment-info",children:["Saldo a pagar: $",Number(r.topay||0).toLocaleString("es-AR")," Pesos"]}),e.jsx("span",{className:"contact-support",children:"Soporte: +54 11-2356-0959"})]})})]})},r.id))}),s&&e.jsx("div",{className:"order-pagination-component",children:e.jsx(pe,{currentPage:s.actualPage,totalPages:s.totalPages,onPageChange:this.changePage})}),this.state.showToast&&e.jsx(he,{message:this.state.toastMessage,type:this.state.toastType,positionV:"middle",positionH:"center",color:this.state.toastColor,onConfirm:this.handleConfirmDelete,onCancel:()=>this.setState({showToast:!1,orderToDelete:null})})]})}}export{we as default};
