import{j as e}from"./jsx-runtime.CRkqtJS5.js";import{R as n}from"./index.B52nOzfP.js";import{T as C}from"./ToastContainer.mqTz6Ve3.js";const x=console.log.bind(console);x("Service create orders form component loaded");const v={clientname:"",clientdni:"",email:"",phone:"",deviceType:"",model:"",serial:"",phonedetails:"",issue:"",devicepassword:""},E=[{description:"Rayaduras en la carcaza"},{description:"Rayaduras en la pantalla"},{description:"Pantalla rota"},{description:"Pantalla presenta lineas de colores fijas verticales anormales"},{description:"Pantalla presenta lineas de colores fijas horizontales anormales"},{description:"Pantalla con marcas"},{description:"Pantalla astillada"},{description:"Pantalla cambiada"},{description:"Tapa trasera del equipo esta rota o astillada"},{description:"Equipo no toma señal de operadora"},{description:"Equipo no toma WiFi"},{description:"Equipo no toma carga"},{description:"Equipo no toma BlueTooth"},{description:"Golpes en los bordes"},{description:"Faltan boton Home"},{description:"Faltan boton Power"},{description:"Faltan botones de Volumen"},{description:"Boton de silencio no funciona"},{description:"Chip de la bateria sin funcionar o perdido"},{description:"Chip de la pantalla no reconocido o sin TrueTone"},{description:"Bateria cambiada"},{description:"Batería no esta en el equipo"},{description:"Bateria esta inchada"},{description:"Bateria esta gastada"},{description:"Bateria esta dañada"},{description:"Face ID no funciona"},{description:"Equipo Mojado"},{description:"Equipo se recibe parcialmente abierto"},{description:"Equipo se recibe abierto por bateria inchada"},{description:"Equipo ya ha sido revisado por otro servicio tecnico"},{description:"Equipo con fallas en el sistema operativo"},{description:"Bandeja SIM perdida"},{description:"Bandeja SIM rota"},{description:"Equipo enciende y se cuelga en la manzana"},{description:"Equipo no enciende"},{description:"Equipo se reinicia constantemente"},{description:"Equipo con numero de error"},{description:"Equipo vuelve por garantia"}];function B(){const[a,p]=n.useState(v),[b,l]=n.useState(!1),[f,c]=n.useState(""),[j,d]=n.useState(""),[N,m]=n.useState(""),[g,u]=n.useState(""),y=()=>{p(v)},o=s=>{p({...a,[s.target.name]:s.target.value})},q=s=>{const t=Array.from(s.target.selectedOptions,i=>i.value);p(i=>{const h=i.phonedetails.split(",").map(r=>r.trim()).filter(Boolean),S=h.filter(r=>!t.includes(r)).concat(t.filter(r=>!h.includes(r)));return{...a,phonedetails:[...new Set(S)].join(", ")}})};x(a);const T=async s=>{s.preventDefault(),c("Enviando Orden....."),d("info"),u("top"),m("end"),l(!0),console.log("HandleSubmit function called",a);try{const t=await fetch("/api/createOrder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});console.log("Response received:",t);const i=await t.json();console.log("Response data:",i),t.ok&&i.success?(c("Orden Creada Sastisfactoriamente"),d("success"),y()):(c("Error al crear la orden"),d("error"))}catch(t){console.error("Error al enviar el formulario",t),c("Error al crear la orden"),d("error")}u("top"),m("end"),l(!0),setTimeout(()=>l(!1),5e3)};return e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-blend-lighten",children:e.jsxs("div",{className:"bg-gradient-sweep animate-gradient-sweep text-light-text dark:text-dark-text p-8 rounded-lg dark:border dark:border-light-bg shadow-lg w-full max-w-4xl",children:[e.jsx("h2",{className:"text-3xl font-bold mb-6 text-center",children:"Hoja de Servicio Técnico"}),e.jsxs("form",{onSubmit:T,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2 transition-all duration-300 hover:transform hover:scale-105",children:[e.jsx("label",{htmlFor:"clientname",className:"labelinput-custom",children:"Nombre Cliente"}),e.jsx("input",{type:"text",name:"clientname",id:"clientname",value:a.clientname,onChange:o,required:!0,className:"form-inputbox"})]}),e.jsxs("div",{className:"space-y-2 transition-all duration-300 hover:transform hover:scale-105",children:[e.jsx("label",{htmlFor:"clientdni",className:"labelinput-custom",children:"DNI"}),e.jsx("input",{type:"text",name:"clientdni",id:"clientdni",value:a.clientdni,onChange:o,required:!0,className:"form-inputbox"})]}),e.jsxs("div",{className:"space-y-2 transition-all duration-300 hover:transform hover:scale-105",children:[e.jsx("label",{htmlFor:"email",className:"labelinput-custom",children:"Email"}),e.jsx("input",{type:"email",name:"email",id:"email",value:a.email,onChange:o,className:"form-inputbox"})]}),e.jsxs("div",{className:"space-y-2 transition-all duration-300 hover:transform hover:scale-105",children:[e.jsx("label",{htmlFor:"phone",className:"labelinput-custom",children:"Teléfono"}),e.jsx("input",{type:"text",name:"phone",id:"phone",value:a.phone,onChange:o,required:!0,className:"form-inputbox"})]}),e.jsxs("div",{className:"space-y-2 transition-all duration-300 hover:transform hover:scale-105",children:[e.jsx("label",{htmlFor:"deviceType",className:"labelinput-custom",children:"Tipo de dispositivo"}),e.jsx("input",{type:"text",name:"deviceType",id:"deviceType",value:a.deviceType,onChange:o,required:!0,className:"form-inputbox"})]}),e.jsxs("div",{className:"space-y-2 transition-all duration-300 hover:transform hover:scale-105",children:[e.jsx("label",{htmlFor:"model",className:"labelinput-custom",children:"Modelo del equipo"}),e.jsx("input",{type:"text",name:"model",id:"model",value:a.model,onChange:o,required:!0,className:"form-inputbox"})]}),e.jsxs("div",{className:"space-y-2 transition-all duration-300 hover:transform hover:scale-105",children:[e.jsx("label",{htmlFor:"serial",className:"labelinput-custom",children:"Número de serie"}),e.jsx("input",{type:"text",name:"serial",id:"serial",value:a.serial,onChange:o,className:"form-inputbox"})]}),e.jsxs("div",{className:"space-y-2 transition-all duration-300 hover:transform hover:scale-105",children:[e.jsx("label",{htmlFor:"devicepassword",className:"labelinput-custom",children:"Contraseña del dispositivo"}),e.jsx("input",{type:"password",name:"devicepassword",id:"devicepassword",value:a.devicepassword,onChange:o,required:!0,className:"form-inputbox"})]})]}),e.jsxs("div",{className:"space-y-2 transition-all duration-300 hover:transform hover:scale-105",children:[e.jsx("label",{htmlFor:"issue",className:"labelinput-custom",children:"Problemas"}),e.jsx("textarea",{name:"issue",id:"issue",value:a.issue,onChange:o,required:!0,className:"textarea-custom",rows:"3"})]}),e.jsxs("div",{className:"space-y-2 transition-all duration-300 hover:transform hover:scale-105",children:[e.jsx("label",{htmlFor:"phonedetails",className:"labelinput-custom",children:"Detalles del equipo"}),e.jsx("select",{name:"phonedetails",id:"phonedetails",value:a.phonedetails.split(",").map(s=>s.trim()).filter(Boolean),onChange:q,required:!0,className:"select-custom",multiple:!0,children:E.map((s,t)=>e.jsx("option",{value:s.description,children:s.description},t))})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"submit",className:"btn-custom",children:"Crear Orden"})})]}),b&&e.jsx(C,{message:f,type:j,positionV:N,positionH:g,onClose:()=>l(!1)})]})})}export{B as default};
